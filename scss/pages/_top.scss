/* ==================================================
  _top.scss
================================================== */

@use "../base" as *;

#top {

/* ---------------------------------------------
   mixin スタイル
--------------------------------------------- */

@mixin h1_title-style($color) {
  position: absolute;
  @include font-size-title;
  font-family: 'Baskervville';
  letter-spacing: 2.0px;
  color: $color;
  text-align: center;
  margin-bottom: 7vh;
  top: 50%;
  left: 50%;
  transform: translateY(-70%) translateX(-50%);
}

@mixin h2_title-style($color) {
  @include font-size-L;
  font-family: 'Baskervville';
  color: $color;
  text-align: center;
  margin-bottom: 45px;
}

/* ---- scroll down ---- */

@mixin arrow($color) {
  width: 40px;
  height: 40px;
  border: 1px solid $color;
  border-radius: 50%;
  position: relative;
  margin-bottom: 12px;
  margin-inline: auto;
  animation: pulse 2s infinite;
}

@mixin arrow_after($color) {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 10px;
  height: 10px;
  border-left: 1px solid $color;
  border-bottom: 1px solid $color;
  transform: translate(-50%, -50%) rotate(-45deg);
}



/* --------------------------------------------------
   Base Layout
-------------------------------------------------- */

#wrapper {
display: flex;
  flex-wrap: nowrap;
  width: 100%;
  height: auto;
}

#wrapper.mode-on {
  background-color: $on-background-color;
  color: $text-color;
}

#wrapper.mode-off {
  background-color: $off-background-color;
  color: #fff;
}



/* --------------------------------------------------
   動画（左）とスクロール（右）の二分割レイアウト
-------------------------------------------------- */

#fixed-area {
position: sticky;
  top: 0;
  left: 0;
  width: 50%;
  height: 100vh;
  overflow: hidden;
  z-index: 1;
  padding: 10px;
}

#container {
  position: relative;
  width: 50%;
  box-sizing: border-box;
  z-index: 2;
  transition: all 0.5s ease;
  background: transparent;
  overflow: hidden;
  height: auto;}

#fixed-area video,
.mode-area video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: 38%;
  border-radius: 10px;
  display: block;
}

.video-on {
  opacity: 1;
  transition: opacity 0.8s ease;
}

.video-off {
  opacity: 0;
  transition: opacity 0.8s ease;
}

#wrapper.mode-off .video-on { opacity: 0 !important; }
#wrapper.mode-off .video-off { opacity: 1 !important; }

/* =======================================================
   Layout switch（ON / OFFで左右入れ替え）
======================================================= */
#wrapper {
  display: flex;
  flex-direction: row; /* 通常（ONモード）は左：動画、右：テキスト） */
  transition: flex-direction 0.4s ease, opacity 0.4s ease;
  opacity: 1;

  &.is-switching {
    opacity: 0;
  }

  .mode-area {
    flex: 1;
    transition: all 0.4s ease;
  }

  #container {
    flex: 1;
    transition: all 0.4s ease;
  }

  &.mode-off {
    flex-direction: row-reverse; /* OFFモードでは左右反転 */
  }
}

/* --------------------------------------------------
   ON / OFF 切替時の on_screen / off_screen 表示
-------------------------------------------------- */

.on_screen {
  opacity: 0;
  pointer-events: none;
  display: none;
  z-index: 1;
}

#wrapper.mode-on .on_screen {
   display: block; opacity: 1; pointer-events: auto; z-index: 2; }
#wrapper.mode-on .off_screen {
  display: none;
  opacity: 0;
  pointer-events: none;
  z-index: 1;
 }

#wrapper.mode-off .on_screen { display: none; opacity: 0; pointer-events: none; z-index: 1; }
#wrapper.mode-off .off_screen {
  display: block;
  opacity: 1;
  pointer-events: auto;
  z-index: 2; }


/* ボタン共通スタイル */
#mode-toggle {
  position: relative;
  width: 120px;
    height: 35px;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    text-align: center;
    letter-spacing: 1px;
    font-size: 14px;
    transition: all 0.3s ease;
    top: -15px;
  }

/* ONモード時の見た目 */
#mode-toggle.mode-on {
  color: #fff;
  background-color: $on-link-button_background-color;

    &:before, &:after {
    content: "";
    position: absolute;
    z-index: -10;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    border-radius: 32px;
    background: $on-link-button_animation-color;
    border: 1px solid $on-link-button_animation-color;
    transform: translate3d(0, 0, 0);
  }

  &:before {
    animation: anime 2s ease-out infinite;
  }

  &:after {
    animation: anime 2s ease-out 1s infinite;
  }

}

/* OFFモード時の見た目 */
#mode-toggle.mode-off {
  color: $accent-color;
  background-color: $off-link-button_background-color;
  font-weight: bold;

    &:before, &:after {
    content: "";
    position: absolute;
    z-index: -10;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    border-radius: 32px;
    background: $off-link-button_animation-color;
    border: 1px solid $off-link-button_animation-color;
    transform: translate3d(0, 0, 0);
    }
    
      &:before {
    animation: anime 2s ease-out infinite;
  }

  &:after {
    animation: anime 2s ease-out 1s infinite;
  }

}

@keyframes anime{
0%{transform:scale(.75); opacity:1}
90%{opacity:.1}to{transform:scale(1.2,1.5); opacity:0}
}


@include respond-max('sp') {
  #mode-toggle {
    bottom: 20px;
    width: 120px;
    height: 36px;
    font-size: 13px;
  }
}

/* ---------------------------------------------
  on_screen
--------------------------------------------- */

.on_screen {
  h1.on-title {
    @include h1_title-style($text-color);
  }

  h2 {
    @include h2_title-style($text-color);
  }
}

.greeting-container {
  position: relative;
  margin-top: 200px;
}

.greeting-box {
  text-align: center;

  p {
    text-align: center;
    line-height: 1.85;
    white-space: nowrap;
  }
}

.greeting-image ul {
  display: flex;
  justify-content: space-evenly;
  margin: 50px auto 0;

  li {
    img {
      height: 55px;
      width: auto;
    }
    p {
      @include font-size-L;
      font-family: 'Baskervville';
      color: $text-color;
      line-height: 2.2;
    }
  }

  @include respond-min('tb') {
    width: 40vmin;
  }
}

/* ---- work ---- */

h3 {
  border-bottom: 1px solid $text-color;
  @include font-size-M;
  width: 100%;
  padding-bottom: 10px;
}

.work-container {
  position: relative;
  margin-top: 300px;
}

.work-item {
  display: flex;
  align-items: flex-start;

  &:first-of-type { margin-bottom: 40px; }

  img { width: 100%; height: auto; }
}

.work-item-left { width: 35%; height: auto; }
.work-item-right {
  width: 65%;
  padding: 0 0 0 15px;

  .work-item-text {
    padding-top: 10px;
    margin-bottom: 20px;
    line-height: 1.5;
  }

  a { padding-right: 32px; display: block; }

    &::after {
    content: "＋";
    display: inline-block;
    width: 24px;
    height: 24px;
    background-color: $text-color;
    border-radius: 50px;
    color: #fff;
    text-align: center;
    line-height: 1.55;
    position: absolute;
    right: 0;
    transform: translateY(-20px);
    z-index: -1;
  }
}

.more-link {
  text-align: right;
}

.view-all {
  position: relative;
  @include font-size-M;
  border: 1px solid $text-color;
  border-radius: 30px;
  width: 180px;
  height: 60px;
  text-align: center;
  margin-top: 50px;
  left: 50%;
  transform: translateX(-50%);

  a {
    position: absolute;
    top: 40%;
    left: 50%;
    transform: translateY(-20%) translateX(-50%);
  }
}


/* ---- profile ---- */

h4 {
    display: flex;
  border: 1px solid #424040;
  border-radius: 30px;
  flex-direction: column;
  width: 120px;
  height: 24px;
  text-align: center;
  line-height: 1.6;
  margin-bottom: 20px;

  &::after {
    content: "▼";
    color: $text-color;
    position: absolute;
    transform: translateX(52px) translateY(16px) scaleX(0.5);
  }
}

h5 {
  &::before {
    content: "▶";
    color: $text-color;
    margin-right: 10px;
  }
}

#profile { scroll-margin-top: 100px; }

.profile-container { position: relative; margin-top: 300px; }
.profile-item { display: flex; }

.profile-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: 52%;
}

.profile-item-left { width: 35%; height: auto; }
.profile-item-right { width: 65%; padding: 0 0 0 20px; }

.profile-item-text { margin-bottom: 40px; line-height: 1.85; }

.profile-item-skills_text {
  @include font-size-S;
  margin-top: 5px;
  margin-bottom: 20px;
  line-height: 1.833;
}


/* ---- Contact ---- */

.contact-container {
  position: relative;
  margin-top: 300px;
  text-align: center;
}

.contact-message { line-height: 1.85; white-space: nowrap; }

form { display: inline-block; padding-top: 50px; }

label { @include font-size-M; display: flex; min-width: 90px; justify-content: center; }

input, textarea {
  width: 33.3vw;
  height: 60px;
  box-sizing: border-box;
  border: 1px solid #424040;
  margin-top: 10px;
  margin-bottom: 50px;
  text-align: left;
  padding-left: 20px;
  background-color: #fff;
}

input:focus, textarea:focus { outline-style: solid; outline-color: #000; }

textarea { vertical-align: top; height: 246px; padding-top: 20px; }

.contact-button {
  width: 91.7%;
  height: 70px;
  background: $on-link-button_background-color;
  border-radius: 35px;
  @include font-size-M;
  letter-spacing: 5.2px;
  color: #fff;
  margin-bottom: 200px;
}

/* --------------------------------------------------
   OFF MODE（元のデザイン維持）
-------------------------------------------------- */
.off_screen {
  background-color: $off-background-color;
  color: $off-text-color;
  opacity: 0;
  display: none;
  pointer-events: none;
  z-index: 1;

  &.visible { opacity: 1; pointer-events: auto; }

  .title-container {
    h1 { @include h1_title-style($off-text-color); }
  }

  .title-item-img { 
    position: relative;
    right: -50%;
    height: 60%;
   }

  .hand-img {
    position: absolute;
    top: 15%;
    width: 45vmin;
    animation: handMove 5.3s ease-in-out forwards;
  }

  .text-img {
    position: absolute;
    bottom: 0;
    width: 26vmin;
    opacity: 1;
    clip-path: inset(0 100% 0 0);
    animation: revealMask 5.3s ease-in-out forwards;
  }

  @keyframes handMove {
    0% { transform: translate(-10vh, 33vh); opacity: 1; }
    40% { transform: translate(1vh, 31vh); }
    80% { transform: translate(10vh, 27vh); opacity: 1; }
    90% { transform: translate(14vh, 26vh); opacity: 0.8; }
    100% { transform: translate(14vh, 26vh); opacity: 0; }
  }

  @keyframes revealMask {
    0% { clip-path: inset(0 100% 0 0); }
    40% { clip-path: inset(0 60% 0 0); }
    90% { clip-path: inset(0 20% 0 0); }
    100% { clip-path: inset(0 0% 0 0); }
  }

  .about-container {
    margin-top: 200px;

    h2 { @include h2_title-style($off-text-color); }

    p { padding-left: 15px; line-height: 2.0; letter-spacing: 1.8px; }

    .about-item-01, .about-item-02 { display: flex;

      img {
        width: 100%;
        height: auto;
        position: relative;
        top: 45%;
        left: 50%;
        transform: translateY(-45%) translateX(-50%);
      }
    }

    .about-item-01 .about-item-left, .about-item-02 .about-item-right { width: 25%; }
    .about-item-01 .about-item-right, .about-item-02 .about-item-left { width: 75%; }

    .about-item-01 { margin-bottom: 90px; }
    .about-item-02 { margin-bottom: 150px; }
  }

  .about-like-container {
    text-align: center;

    .about-like-title {
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: center;

      &::before { content: ""; border: 1px solid #fff; width: 10px; margin-right: 20px; }
      &::after  { content: ""; border: 1px solid #fff; width: 10px; margin-left: 20px; }
    }

    .about-like-text {
      margin-bottom: 100px;
      text-align:left;
      line-height:1.8;

      span { display: inline-block; }
    }
  }

  .about-img-container {
    display: flex;
    justify-content: space-between;
    padding-bottom: 60px;

    .about-item-image { width: 48%; }
  }

  .off-visual {
    width: 70%;
    margin: 40px auto 0;
    opacity: 0.7;
    transform: translateY(20px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }
}

/* --------------------------------------------------
   Scroll Indicator
-------------------------------------------------- */
.scroll-container {
  display: inline-block;
  position: absolute;
  bottom: 11vmax;
  white-space: nowrap;
}

.scroll-down {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  text-align: center;
  font-family: serif;
  color: $text-color;
  font-size: 14px;
  text-decoration: none;
}

.on_screen {
.circle-arrow { @include arrow($text-color); }
.circle-arrow::after { @include arrow_after($text-color); }
.scroll-down p {color: $text-color;}
}

.off_screen {
 .circle-arrow { @include arrow($off-text-color); }
 .circle-arrow::after { @include arrow_after($off-text-color); }
 .scroll-down p {color: $off-text-color;}
}


@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

.title-container {
  position: relative;
  text-align: center;
  height: 100vh;
  box-sizing: border-box;}

/* --------------------------------------------------
   レスポンシブ調整
-------------------------------------------------- */

@include respond-max('sp') {
  /* 小画面では動画を上に、本文は下に回す */
  .mode-area, #fixed-area {
    position: relative;
    width: 100%;
    height: 60vh;
    border-radius: 0;
    padding: 10px;
  }

  #container {
    margin-left: 0;
    width: 100%;
    padding-top: 0;
  }

  .greeting-container { margin-top: 60px; }

  .profile-item { flex-direction: column; }
  .work-item { flex-direction: column; }
  .work-item-left, .work-item-right,
  .profile-item-left, .profile-item-right {
    width: 100%;
    padding: 0;
  }

  input, textarea { width: 90vw; }
}


/* --------------------------------------------------
   Header & Page-top layout (ON/OFF切替)
-------------------------------------------------- */

#header.pos-right {
  right: 50vw;
  left: auto;
}

#header.pos-left {
  left: -50vw;
  right: auto;

  a {
    color: #fff;
  }

  #g-navi ul {
  display:none;
}
}

.page-top.pos-right {
  right: 3vw;
  left: auto;
}

.page-top.pos-left {
  left: 3vw;
  right: auto;
}

.page-top {
  cursor: pointer;
  pointer-events: auto;
  z-index: 2000;
}

.openbtn.fadeDown .pos-right {
  right: auto;
}

.openbtn.fadeDown.pos-left {
  display: none;
  left: 42vw;
  right: auto;

  span {
    background-color: #fff;
  }
}

}